(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{H:()=>s});var o={};function n(){let e=document.createElement("main");e.className="main",document.body.prepend(e)}function a(e){let t=document.createElement("div");if(t.className="gallow",t.innerHTML='\n    <div class="gallow__block">\n        <div class="gallow__head"></div>\n        <div class="gallow__body"></div>\n        <div class="gallow__hand-one"></div>\n        <div class="gallow__hand-two"></div>\n        <div class="gallow__leg-one"></div>\n        <div class="gallow__leg-two"></div>\n    </div>\n    <div class="gallow__game-name">HANGMAN GAME</div>\n',document.querySelector(".main").prepend(t),e)for(let t=0;t<=e;t++)0!==t&&(1===t&&(document.querySelector(".gallow__head").style.display="block"),2===t&&(document.querySelector(".gallow__body").style.display="block"),3===t&&(document.querySelector(".gallow__hand-one").style.display="block"),4===t&&(document.querySelector(".gallow__hand-two").style.display="block"),5===t&&(document.querySelector(".gallow__leg-one").style.display="block"),6===t&&(document.querySelector(".gallow__leg-two").style.display="block"))}function l(){let e=document.createElement("div");e.className="keyboard",document.querySelector(".main").append(e)}function r(e){const t=[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,90,88,67,86,66,78,77];let o="";for(let n=0;n<t.length;n++)e&&e.includes(t[n])?o+=`<div class="keyboard__key keyboard__key_disabled" data=${t[n]}>${String.fromCharCode(t[n])}</div>`:o+=`<div class="keyboard__key" data=${t[n]}>${String.fromCharCode(t[n])}</div>`;document.querySelector(".keyboard").innerHTML=o,document.querySelectorAll(".keyboard__key.keyboard__key_disabled").forEach((e=>{e.style.pointerEvents="none"}))}function c(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.removeEventListener("click",S),e.removeEventListener("mousedown",w),e.removeEventListener("mouseup",q)})),document.removeEventListener("keydown",h),document.removeEventListener("keyup",L)}function s(e){c();let t=document.createElement("div");t.className="popup",t.innerHTML=`\n  <div class="popup__content">\n    <div class="popup__content-info">Good game! You were right, the answer was ${e}!</div>\n    <button class="button">Next question</button>\n  </div>\n  `,document.body.prepend(t),document.querySelector(".button").addEventListener("click",b),document.addEventListener("keypress",d)}function d(e){"Enter"===e.key&&b()}let i,u;function y(){fetch("./src/data.json").then((e=>e.json())).then((e=>{i=e,m(),_()})).catch((e=>console.error(e)))}function m(e,t,o){console.log();let n=document.createElement("div");if(n.className="info-block",e&&t&&o)n.innerHTML=`\n  <div class="info-block__question">${t}</div>\n  <div class="info-block__answer">${e}</div>\n  `,u=o,console.log(u);else{let e=(a=0,l=i.questions.length-1,a=Math.ceil(a),l=Math.floor(l),Math.floor(Math.random()*(l-a+1)+a));u=i.questions[e].answer,u===localStorage.getItem("IamBigBobby_generateAnswer")&&(e++,u=i.questions[e].answer),localStorage.setItem("IamBigBobby_generateAnswer",u),n.innerHTML=`\n  <div class="info-block__question">${i.questions[e].question}</div>\n  <div class="info-block__answer">${"_".repeat(i.questions[e].answer.length)}</div>\n  `}var a,l;document.querySelector(".keyboard").after(n),console.log(u)}function _(e){let t=document.createElement("div");t.className="info-block__counter",t.innerHTML=e?`\n  fail attempts <span class="info-block__fail-attemts">${Number(e)}</span>/6\n  `:'\n  fail attempts <span class="info-block__fail-attemts">0</span>/6\n  ',document.querySelector(".info-block__answer").after(t)}function b(){document.querySelector(".popup").remove(),document.querySelector(".main").remove(),document.removeEventListener("keypress",o.nextStageEnterLose),document.removeEventListener("keypress",t.nextStageEnterWin),n(),a(),l(),r(),g(),y()}function k(e){c();let t=document.createElement("div");t.className="popup",t.innerHTML=`\n  <div class="popup__content">\n    <div class="popup__content-info">Unfortunately you wasted your attempts, the answer was ${e}.</div>\n    <button class="button">Next try</button>\n  </div>\n  `,document.body.prepend(t),document.querySelector(".button").addEventListener("click",b),document.addEventListener("keypress",v)}function v(e){"Enter"===e.key&&b()}function f(e,t,o,n,a){let l,r=localStorage.getItem("IamBigBobby_hangmanGameState");r?(l=JSON.parse(r),l.answer=e,l.question=t,l.countFail=o,l.loadAswer=n,l.disabledKeys.push(a)):(l={answer:e,question:t,countFail:o,loadAswer:n,disabledKeys:[]},l.disabledKeys.push(a)),localStorage.setItem("IamBigBobby_hangmanGameState",JSON.stringify(l))}function p(e,t,o,n){if(!["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].includes(t))return alert("Please use English layout"),void document.querySelectorAll(".keyboard__key").forEach((e=>{e.classList.remove("keyboard__key_active")}));if(!["KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ"].includes(e.code)&&"mouse"===!e.pointerType)return;const a=document.querySelector(".info-block__answer"),l=document.querySelector(".info-block__fail-attemts");let r=l.innerHTML,c=o.toUpperCase().includes(t);if(function(e){if(e.keyCode){const t=document.querySelector(`.keyboard__key[data="${e.keyCode}"]`);t.classList.add("keyboard__key_disabled"),t.style.pointerEvents="none"}if(e.target.classList.contains("keyboard__key")){const t=e.target;t.classList.add("keyboard__key_disabled"),t.style.pointerEvents="none"}}(e),c)for(let l=0;l<o.length;l++){let c=a.innerHTML,d=c;if(o[l].toUpperCase()===t){if(d=`${c.slice(0,l)}${t}${c.slice(l+1)}`,a.innerHTML=d,d===o.toUpperCase())return s(o),void localStorage.removeItem("IamBigBobby_hangmanGameState");if(f(d,n,r,u,e.keyCode||Number(e.target.getAttribute("data"))),l===o.length-1)return}}else if(r>=6?r=6:(r++,l.innerHTML=r),function(e){switch(e){case 1:document.querySelector(".gallow__head").style.display="block";break;case 2:document.querySelector(".gallow__body").style.display="block";break;case 3:document.querySelector(".gallow__hand-one").style.display="block";break;case 4:document.querySelector(".gallow__hand-two").style.display="block";break;case 5:document.querySelector(".gallow__leg-one").style.display="block";break;case 6:document.querySelector(".gallow__leg-two").style.display="block"}}(r),f(a.innerHTML,n,r,u,e.keyCode||Number(e.target.getAttribute("data"))),6===r)return k(o),void localStorage.removeItem("IamBigBobby_hangmanGameState")}function g(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.addEventListener("mousedown",w),e.addEventListener("mouseup",q),e.addEventListener("click",S)})),document.addEventListener("keydown",h),document.addEventListener("keyup",L)}function S(e){p(e,e.target.innerHTML,u,document.querySelector(".info-block__question").innerHTML)}function w(e){!function(e){e.target.classList.add("keyboard__key_active")}(e)}function q(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.classList.remove("keyboard__key_active")}))}function h(e){!function(e){document.querySelector(`.keyboard__key[data="${e.keyCode}"]`).classList.add("keyboard__key_active")}(e),p(e,e.key.toUpperCase(),u,document.querySelector(".info-block__question").innerHTML)}function L(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.classList.remove("keyboard__key_active")}))}e.r(o),e.d(o,{h:()=>k}),document.addEventListener("DOMContentLoaded",(function(){let e=function(){let e=localStorage.getItem("IamBigBobby_hangmanGameState");return e?JSON.parse(e):null}();if(n(),e){let t=e.answer,o=e.question,n=e.countFail,c=e.loadAswer,s=e.disabledKeys;a(n),l(),r(s),m(t,o,c),_(n),g()}else a(),l(),r(),g(),y()}))})();