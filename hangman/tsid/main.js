(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{H:()=>s});var n={};function o(){let e=document.createElement("main");e.className="main",document.body.prepend(e)}function a(e){let t=document.createElement("div");if(t.className="gallow",t.innerHTML='\n    <div class="gallow__block">\n        <div class="gallow__head"></div>\n        <div class="gallow__body"></div>\n        <div class="gallow__hand-one"></div>\n        <div class="gallow__hand-two"></div>\n        <div class="gallow__leg-one"></div>\n        <div class="gallow__leg-two"></div>\n    </div>\n    <div class="gallow__game-name">HANGMAN GAME</div>\n',document.querySelector(".main").prepend(t),e)for(let t=0;t<=e;t++)0!==t&&(1===t&&(document.querySelector(".gallow__head").style.display="block"),2===t&&(document.querySelector(".gallow__body").style.display="block"),3===t&&(document.querySelector(".gallow__hand-one").style.display="block"),4===t&&(document.querySelector(".gallow__hand-two").style.display="block"),5===t&&(document.querySelector(".gallow__leg-one").style.display="block"),6===t&&(document.querySelector(".gallow__leg-two").style.display="block"))}function l(){let e=document.createElement("div");e.className="keyboard",document.querySelector(".main").append(e)}function r(e){const t=[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,90,88,67,86,66,78,77];let n="";for(let o=0;o<t.length;o++)e&&e.includes(t[o])?n+=`<div class="keyboard__key keyboard__key_disabled" data=${t[o]}>${String.fromCharCode(t[o])}</div>`:n+=`<div class="keyboard__key" data=${t[o]}>${String.fromCharCode(t[o])}</div>`;document.querySelector(".keyboard").innerHTML=n,document.querySelectorAll(".keyboard__key.keyboard__key_disabled").forEach((e=>{e.style.pointerEvents="none"}))}function c(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.removeEventListener("click",f),e.removeEventListener("mousedown",S),e.removeEventListener("mouseup",w)})),document.removeEventListener("keydown",h),document.removeEventListener("keyup",q)}function s(e){c();let t=document.createElement("div");t.className="popup",t.innerHTML=`\n  <div class="popup__content">\n    <div class="popup__content-info">Good game! You were right, the answer was ${e}!</div>\n    <button class="button">Play again</button>\n  </div>\n  `,document.body.prepend(t),document.querySelector(".button").addEventListener("click",_),document.addEventListener("keypress",d)}function d(e){"Enter"===e.key&&_()}function i(e,t,n,o,a){let l,r=localStorage.getItem("IamBigBobby_hangmanGameState");r?(l=JSON.parse(r),l.answer=e,l.question=t,l.countFail=n,l.loadAswer=o,l.disabledKeys.push(a)):(l={answer:e,question:t,countFail:n,loadAswer:o,disabledKeys:[]},l.disabledKeys.push(a)),localStorage.setItem("IamBigBobby_hangmanGameState",JSON.stringify(l))}let u,y;function m(){fetch("./src/data.json").then((e=>e.json())).then((e=>{u=e,function(e,t,n){let o=document.createElement("div");if(o.className="info-block",e&&t&&n)o.innerHTML=`\n  <div class="info-block__question">${t}</div>\n  <div class="info-block__answer">${e}</div>\n  `,y=n,console.log(y);else{let e=(a=0,l=u.questions.length-1,a=Math.ceil(a),l=Math.floor(l),Math.floor(Math.random()*(l-a+1)+a));y=u.questions[e].answer,y===localStorage.getItem("IamBigBobby_generateAnswer")&&(e++,y=u.questions[e].answer),localStorage.setItem("IamBigBobby_generateAnswer",y),o.innerHTML=`\n  <div class="info-block__question">${u.questions[e].question}</div>\n  <div class="info-block__answer">${"_".repeat(u.questions[e].answer.length)}</div>\n  `}var a,l;i(...[,,,,[]]),document.querySelector(".keyboard").after(o),console.log(y)}(),function(e){let t=document.createElement("div");t.className="info-block__counter",t.innerHTML=e?`\n  fail attempts <span class="info-block__fail-attemts">${Number(e)}</span>/6\n  `:'\n  fail attempts <span class="info-block__fail-attemts">0</span>/6\n  ',document.querySelector(".info-block__answer").after(t)}()})).catch((e=>console.error(e)))}function _(){document.querySelector(".popup").remove(),document.querySelector(".main").remove(),document.removeEventListener("keypress",n.nextStageEnterLose),document.removeEventListener("keypress",t.nextStageEnterWin),o(),a(),l(),r(),p(),m()}function b(e){c();let t=document.createElement("div");t.className="popup",t.innerHTML=`\n  <div class="popup__content">\n    <div class="popup__content-info">Unfortunately you wasted your attempts, the answer was ${e}.</div>\n    <button class="button">Play again</button>\n  </div>\n  `,document.body.prepend(t),document.querySelector(".button").addEventListener("click",_),document.addEventListener("keypress",k)}function k(e){"Enter"===e.key&&_()}function v(){let e=localStorage.getItem("IamBigBobby_hangmanGameState");return e?JSON.parse(e):null}function g(e,t,n,o){if(!["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].includes(t))return alert("Please use English layout"),void document.querySelectorAll(".keyboard__key").forEach((e=>{e.classList.remove("keyboard__key_active")}));if(!["KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ"].includes(e.code)&&"mouse"===!e.pointerType)return;const a=document.querySelector(".info-block__answer"),l=document.querySelector(".info-block__fail-attemts");let r=l.innerHTML,c=n.toUpperCase().includes(t);if(function(e){if(e.keyCode){const t=document.querySelector(`.keyboard__key[data="${e.keyCode}"]`);t.classList.add("keyboard__key_disabled"),t.style.pointerEvents="none"}if(e.target.classList.contains("keyboard__key")){const t=e.target;t.classList.add("keyboard__key_disabled"),t.style.pointerEvents="none"}}(e),c)for(let l=0;l<n.length;l++){let c=a.innerHTML,d=c;if(n[l].toUpperCase()===t){if(d=`${c.slice(0,l)}${t}${c.slice(l+1)}`,a.innerHTML=d,d===n.toUpperCase())return s(n),void localStorage.removeItem("IamBigBobby_hangmanGameState");if(i(d,o,r,y,e.keyCode||Number(e.target.getAttribute("data"))),l===n.length-1)return}}else if(r>=6?r=6:v().disabledKeys.includes(e.keyCode)||(r++,l.innerHTML=r),function(e){switch(e){case 1:document.querySelector(".gallow__head").style.display="block";break;case 2:document.querySelector(".gallow__body").style.display="block";break;case 3:document.querySelector(".gallow__hand-one").style.display="block";break;case 4:document.querySelector(".gallow__hand-two").style.display="block";break;case 5:document.querySelector(".gallow__leg-one").style.display="block";break;case 6:document.querySelector(".gallow__leg-two").style.display="block"}}(r),i(a.innerHTML,o,r,y,e.keyCode||Number(e.target.getAttribute("data"))),6===r)return b(n),void localStorage.removeItem("IamBigBobby_hangmanGameState")}function p(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.addEventListener("mousedown",S),e.addEventListener("mouseup",w),e.addEventListener("click",f)})),document.addEventListener("keydown",h),document.addEventListener("keyup",q)}function f(e){g(e,e.target.innerHTML,y,document.querySelector(".info-block__question").innerHTML)}function S(e){!function(e){e.target.classList.add("keyboard__key_active")}(e)}function w(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.classList.remove("keyboard__key_active")}))}function h(e){!function(e){document.querySelector(`.keyboard__key[data="${e.keyCode}"]`).classList.add("keyboard__key_active")}(e),g(e,e.key.toUpperCase(),y,document.querySelector(".info-block__question").innerHTML)}function q(){document.querySelectorAll(".keyboard__key").forEach((e=>{e.classList.remove("keyboard__key_active")}))}e.r(n),e.d(n,{h:()=>b}),document.addEventListener("DOMContentLoaded",(function(){let e=v();e=null,localStorage.removeItem("IamBigBobby_hangmanGameState"),o(),a(),l(),r(),p(),m()}))})();